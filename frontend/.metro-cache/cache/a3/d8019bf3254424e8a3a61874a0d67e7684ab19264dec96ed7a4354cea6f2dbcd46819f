{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL + '/api';\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Set axios default header\n          axios.default.defaults.headers.common['Authorization'] = `Bearer ${storedToken}`;\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          email,\n          password\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${newToken}`;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async (email, password, full_name) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/signup`, {\n          email,\n          password,\n          full_name\n        });\n        const {\n          token: newToken,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(newToken);\n        setUser(newUser);\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${newToken}`;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      delete axios.default.defaults.headers.common['Authorization'];\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":128,"map":[[13,2,25,0,"Object"],[13,8,25,0],[13,9,25,0,"defineProperty"],[13,23,25,0],[13,24,25,0,"exports"],[13,31,25,0],[14,4,25,0,"enumerable"],[14,14,25,0],[15,4,25,0,"get"],[15,7,25,0],[15,18,25,0,"get"],[15,19,25,0],[16,6,25,0],[16,13,25,0,"AuthProvider"],[16,25,25,0],[17,4,25,0],[18,2,25,0],[19,2,106,0,"Object"],[19,8,106,0],[19,9,106,0,"defineProperty"],[19,23,106,0],[19,24,106,0,"exports"],[19,31,106,0],[20,4,106,0,"enumerable"],[20,14,106,0],[21,4,106,0,"get"],[21,7,106,0],[21,18,106,0,"get"],[21,19,106,0],[22,6,106,0],[22,13,106,0,"useAuth"],[22,20,106,0],[23,4,106,0],[24,2,106,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,21,0],[31,8,21,6,"AuthContext"],[31,19,21,17],[31,35,21,20],[31,39,21,20,"createContext"],[31,45,21,33],[31,46,21,33,"createContext"],[31,59,21,33],[31,61,21,63,"undefined"],[31,70,21,72],[31,71,21,73],[32,2,23,0],[32,8,23,6,"API_URL"],[32,15,23,13],[32,18,23,16,"process"],[32,25,23,23],[32,26,23,24,"env"],[32,29,23,27],[32,30,23,28,"EXPO_PUBLIC_BACKEND_URL"],[32,53,23,51],[32,56,23,54],[32,62,23,60],[33,2,25,7],[33,8,25,13,"AuthProvider"],[33,20,25,66],[33,23,25,69,"AuthProvider"],[33,24,25,70],[34,4,25,72,"children"],[35,2,25,81],[35,3,25,82],[35,8,25,87],[36,4,26,2],[36,10,26,8],[36,11,26,9,"user"],[36,15,26,13],[36,17,26,15,"setUser"],[36,24,26,22],[36,25,26,23],[36,28,26,26],[36,32,26,26,"useState"],[36,38,26,34],[36,39,26,34,"useState"],[36,47,26,34],[36,49,26,48],[36,53,26,52],[36,54,26,53],[37,4,27,2],[37,10,27,8],[37,11,27,9,"token"],[37,16,27,14],[37,18,27,16,"setToken"],[37,26,27,24],[37,27,27,25],[37,30,27,28],[37,34,27,28,"useState"],[37,40,27,36],[37,41,27,36,"useState"],[37,49,27,36],[37,51,27,52],[37,55,27,56],[37,56,27,57],[38,4,28,2],[38,10,28,8],[38,11,28,9,"loading"],[38,18,28,16],[38,20,28,18,"setLoading"],[38,30,28,28],[38,31,28,29],[38,34,28,32],[38,38,28,32,"useState"],[38,44,28,40],[38,45,28,40,"useState"],[38,53,28,40],[38,55,28,41],[38,59,28,45],[38,60,28,46],[39,4,30,2],[39,8,30,2,"useEffect"],[39,14,30,11],[39,15,30,11,"useEffect"],[39,24,30,11],[39,26,30,12],[39,32,30,18],[40,6,31,4,"loadStoredAuth"],[40,20,31,18],[40,21,31,19],[40,22,31,20],[41,4,32,2],[41,5,32,3],[41,7,32,5],[41,9,32,7],[41,10,32,8],[42,4,34,2],[42,10,34,8,"loadStoredAuth"],[42,24,34,22],[42,27,34,25],[42,33,34,25,"loadStoredAuth"],[42,34,34,25],[42,39,34,37],[43,6,35,4],[43,10,35,8],[44,8,36,6],[44,14,36,12,"storedToken"],[44,25,36,23],[44,28,36,26],[44,34,36,32,"AsyncStorage"],[44,46,36,44],[44,47,36,44,"default"],[44,54,36,44],[44,55,36,45,"getItem"],[44,62,36,52],[44,63,36,53],[44,70,36,60],[44,71,36,61],[45,8,37,6],[45,14,37,12,"storedUser"],[45,24,37,22],[45,27,37,25],[45,33,37,31,"AsyncStorage"],[45,45,37,43],[45,46,37,43,"default"],[45,53,37,43],[45,54,37,44,"getItem"],[45,61,37,51],[45,62,37,52],[45,68,37,58],[45,69,37,59],[46,8,39,6],[46,12,39,10,"storedToken"],[46,23,39,21],[46,27,39,25,"storedUser"],[46,37,39,35],[46,39,39,37],[47,10,40,8,"setToken"],[47,18,40,16],[47,19,40,17,"storedToken"],[47,30,40,28],[47,31,40,29],[48,10,41,8,"setUser"],[48,17,41,15],[48,18,41,16,"JSON"],[48,22,41,20],[48,23,41,21,"parse"],[48,28,41,26],[48,29,41,27,"storedUser"],[48,39,41,37],[48,40,41,38],[48,41,41,39],[50,10,43,8],[51,10,44,8,"axios"],[51,15,44,13],[51,16,44,13,"default"],[51,23,44,13],[51,24,44,14,"defaults"],[51,32,44,22],[51,33,44,23,"headers"],[51,40,44,30],[51,41,44,31,"common"],[51,47,44,37],[51,48,44,38],[51,63,44,53],[51,64,44,54],[51,67,44,57],[51,77,44,67,"storedToken"],[51,88,44,78],[51,90,44,80],[52,8,45,6],[53,6,46,4],[53,7,46,5],[53,8,46,6],[53,15,46,13,"error"],[53,20,46,18],[53,22,46,20],[54,8,47,6,"console"],[54,15,47,13],[54,16,47,14,"error"],[54,21,47,19],[54,22,47,20],[54,43,47,41],[54,45,47,43,"error"],[54,50,47,48],[54,51,47,49],[55,6,48,4],[55,7,48,5],[55,16,48,14],[56,8,49,6,"setLoading"],[56,18,49,16],[56,19,49,17],[56,24,49,22],[56,25,49,23],[57,6,50,4],[58,4,51,2],[58,5,51,3],[59,4,53,2],[59,10,53,8,"login"],[59,15,53,13],[59,18,53,16],[59,24,53,16,"login"],[59,25,53,23,"email"],[59,30,53,36],[59,32,53,38,"password"],[59,40,53,54],[59,45,53,59],[60,6,54,4],[60,10,54,8],[61,8,55,6],[61,14,55,12,"response"],[61,22,55,20],[61,25,55,23],[61,31,55,29,"axios"],[61,36,55,34],[61,37,55,34,"default"],[61,44,55,34],[61,45,55,35,"post"],[61,49,55,39],[61,50,55,40],[61,53,55,43,"API_URL"],[61,60,55,50],[61,73,55,63],[61,75,55,65],[62,10,55,67,"email"],[62,15,55,72],[63,10,55,74,"password"],[64,8,55,83],[64,9,55,84],[64,10,55,85],[65,8,56,6],[65,14,56,12],[66,10,56,14,"token"],[66,15,56,19],[66,17,56,21,"newToken"],[66,25,56,29],[67,10,56,31,"user"],[67,14,56,35],[67,16,56,37,"newUser"],[68,8,56,45],[68,9,56,46],[68,12,56,49,"response"],[68,20,56,57],[68,21,56,58,"data"],[68,25,56,62],[69,8,58,6],[69,14,58,12,"AsyncStorage"],[69,26,58,24],[69,27,58,24,"default"],[69,34,58,24],[69,35,58,25,"setItem"],[69,42,58,32],[69,43,58,33],[69,50,58,40],[69,52,58,42,"newToken"],[69,60,58,50],[69,61,58,51],[70,8,59,6],[70,14,59,12,"AsyncStorage"],[70,26,59,24],[70,27,59,24,"default"],[70,34,59,24],[70,35,59,25,"setItem"],[70,42,59,32],[70,43,59,33],[70,49,59,39],[70,51,59,41,"JSON"],[70,55,59,45],[70,56,59,46,"stringify"],[70,65,59,55],[70,66,59,56,"newUser"],[70,73,59,63],[70,74,59,64],[70,75,59,65],[71,8,61,6,"setToken"],[71,16,61,14],[71,17,61,15,"newToken"],[71,25,61,23],[71,26,61,24],[72,8,62,6,"setUser"],[72,15,62,13],[72,16,62,14,"newUser"],[72,23,62,21],[72,24,62,22],[73,8,64,6,"axios"],[73,13,64,11],[73,14,64,11,"default"],[73,21,64,11],[73,22,64,12,"defaults"],[73,30,64,20],[73,31,64,21,"headers"],[73,38,64,28],[73,39,64,29,"common"],[73,45,64,35],[73,46,64,36],[73,61,64,51],[73,62,64,52],[73,65,64,55],[73,75,64,65,"newToken"],[73,83,64,73],[73,85,64,75],[74,6,65,4],[74,7,65,5],[74,8,65,6],[74,15,65,13,"error"],[74,20,65,23],[74,22,65,25],[75,8,66,6],[75,14,66,12],[75,18,66,16,"Error"],[75,23,66,21],[75,24,66,22,"error"],[75,29,66,27],[75,30,66,28,"response"],[75,38,66,36],[75,40,66,38,"data"],[75,44,66,42],[75,46,66,44,"detail"],[75,52,66,50],[75,56,66,54],[75,70,66,68],[75,71,66,69],[76,6,67,4],[77,4,68,2],[77,5,68,3],[78,4,70,2],[78,10,70,8,"signup"],[78,16,70,14],[78,19,70,17],[78,25,70,17,"signup"],[78,26,70,24,"email"],[78,31,70,37],[78,33,70,39,"password"],[78,41,70,55],[78,43,70,57,"full_name"],[78,52,70,74],[78,57,70,79],[79,6,71,4],[79,10,71,8],[80,8,72,6],[80,14,72,12,"response"],[80,22,72,20],[80,25,72,23],[80,31,72,29,"axios"],[80,36,72,34],[80,37,72,34,"default"],[80,44,72,34],[80,45,72,35,"post"],[80,49,72,39],[80,50,72,40],[80,53,72,43,"API_URL"],[80,60,72,50],[80,74,72,64],[80,76,72,66],[81,10,73,8,"email"],[81,15,73,13],[82,10,74,8,"password"],[82,18,74,16],[83,10,75,8,"full_name"],[84,8,76,6],[84,9,76,7],[84,10,76,8],[85,8,77,6],[85,14,77,12],[86,10,77,14,"token"],[86,15,77,19],[86,17,77,21,"newToken"],[86,25,77,29],[87,10,77,31,"user"],[87,14,77,35],[87,16,77,37,"newUser"],[88,8,77,45],[88,9,77,46],[88,12,77,49,"response"],[88,20,77,57],[88,21,77,58,"data"],[88,25,77,62],[89,8,79,6],[89,14,79,12,"AsyncStorage"],[89,26,79,24],[89,27,79,24,"default"],[89,34,79,24],[89,35,79,25,"setItem"],[89,42,79,32],[89,43,79,33],[89,50,79,40],[89,52,79,42,"newToken"],[89,60,79,50],[89,61,79,51],[90,8,80,6],[90,14,80,12,"AsyncStorage"],[90,26,80,24],[90,27,80,24,"default"],[90,34,80,24],[90,35,80,25,"setItem"],[90,42,80,32],[90,43,80,33],[90,49,80,39],[90,51,80,41,"JSON"],[90,55,80,45],[90,56,80,46,"stringify"],[90,65,80,55],[90,66,80,56,"newUser"],[90,73,80,63],[90,74,80,64],[90,75,80,65],[91,8,82,6,"setToken"],[91,16,82,14],[91,17,82,15,"newToken"],[91,25,82,23],[91,26,82,24],[92,8,83,6,"setUser"],[92,15,83,13],[92,16,83,14,"newUser"],[92,23,83,21],[92,24,83,22],[93,8,85,6,"axios"],[93,13,85,11],[93,14,85,11,"default"],[93,21,85,11],[93,22,85,12,"defaults"],[93,30,85,20],[93,31,85,21,"headers"],[93,38,85,28],[93,39,85,29,"common"],[93,45,85,35],[93,46,85,36],[93,61,85,51],[93,62,85,52],[93,65,85,55],[93,75,85,65,"newToken"],[93,83,85,73],[93,85,85,75],[94,6,86,4],[94,7,86,5],[94,8,86,6],[94,15,86,13,"error"],[94,20,86,23],[94,22,86,25],[95,8,87,6],[95,14,87,12],[95,18,87,16,"Error"],[95,23,87,21],[95,24,87,22,"error"],[95,29,87,27],[95,30,87,28,"response"],[95,38,87,36],[95,40,87,38,"data"],[95,44,87,42],[95,46,87,44,"detail"],[95,52,87,50],[95,56,87,54],[95,71,87,69],[95,72,87,70],[96,6,88,4],[97,4,89,2],[97,5,89,3],[98,4,91,2],[98,10,91,8,"logout"],[98,16,91,14],[98,19,91,17],[98,25,91,17,"logout"],[98,26,91,17],[98,31,91,29],[99,6,92,4],[99,12,92,10,"AsyncStorage"],[99,24,92,22],[99,25,92,22,"default"],[99,32,92,22],[99,33,92,23,"removeItem"],[99,43,92,33],[99,44,92,34],[99,51,92,41],[99,52,92,42],[100,6,93,4],[100,12,93,10,"AsyncStorage"],[100,24,93,22],[100,25,93,22,"default"],[100,32,93,22],[100,33,93,23,"removeItem"],[100,43,93,33],[100,44,93,34],[100,50,93,40],[100,51,93,41],[101,6,94,4],[101,13,94,11,"axios"],[101,18,94,16],[101,19,94,16,"default"],[101,26,94,16],[101,27,94,17,"defaults"],[101,35,94,25],[101,36,94,26,"headers"],[101,43,94,33],[101,44,94,34,"common"],[101,50,94,40],[101,51,94,41],[101,66,94,56],[101,67,94,57],[102,6,95,4,"setToken"],[102,14,95,12],[102,15,95,13],[102,19,95,17],[102,20,95,18],[103,6,96,4,"setUser"],[103,13,96,11],[103,14,96,12],[103,18,96,16],[103,19,96,17],[104,4,97,2],[104,5,97,3],[105,4,99,2],[105,24,100,4],[105,28,100,4,"_reactJsxDevRuntime"],[105,47,100,4],[105,48,100,4,"jsxDEV"],[105,54,100,4],[105,56,100,5,"AuthContext"],[105,67,100,16],[105,68,100,17,"Provider"],[105,76,100,25],[106,6,100,26,"value"],[106,11,100,31],[106,13,100,33],[107,8,100,35,"user"],[107,12,100,39],[108,8,100,41,"token"],[108,13,100,46],[109,8,100,48,"loading"],[109,15,100,55],[110,8,100,57,"login"],[110,13,100,62],[111,8,100,64,"signup"],[111,14,100,70],[112,8,100,72,"logout"],[113,6,100,79],[113,7,100,81],[114,6,100,81,"children"],[114,14,100,81],[114,16,101,7,"children"],[115,4,101,15],[116,6,101,15,"fileName"],[116,14,101,15],[116,16,101,15,"_jsxFileName"],[116,28,101,15],[117,6,101,15,"lineNumber"],[117,16,101,15],[118,6,101,15,"columnNumber"],[118,18,101,15],[119,4,101,15],[119,11,102,26],[119,12,102,27],[120,2,104,0],[120,3,104,1],[121,2,106,7],[121,8,106,13,"useAuth"],[121,15,106,20],[121,18,106,23,"useAuth"],[121,19,106,23],[121,24,106,29],[122,4,107,2],[122,10,107,8,"context"],[122,17,107,15],[122,20,107,18],[122,24,107,18,"useContext"],[122,30,107,28],[122,31,107,28,"useContext"],[122,41,107,28],[122,43,107,29,"AuthContext"],[122,54,107,40],[122,55,107,41],[123,4,108,2],[123,8,108,6],[123,9,108,7,"context"],[123,16,108,14],[123,18,108,16],[124,6,109,4],[124,12,109,10],[124,16,109,14,"Error"],[124,21,109,19],[124,22,109,20],[124,64,109,62],[124,65,109,63],[125,4,110,2],[126,4,111,2],[126,11,111,9,"context"],[126,18,111,16],[127,2,112,0],[127,3,112,1],[128,0,112,2],[128,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","useAuth"],"mappings":"AAA;qECwB;YCK;GDE;yBEE;GFiB;gBGE;GHe;iBIE;GJmB;iBKE;GLM;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}